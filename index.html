<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food and Glucose: A Data-Driven Look</title>
    
    <link rel="stylesheet" href="test.css">
    <!-- <link rel="stylesheet" href="radar.css">  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.24.1/plotly.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="script.js"></script>
</head> 
<body>

    <header>
        <h1>Every Bite Counts: An Analysis of How Food Affects Blood Sugar Levels</h1>
        <h2>BIG IDEAs Lab Glycemic Variability and Wearable Device Data</h2>
        <p> For the <strong>hundreds of millions</strong> managing diabetes, food is more than just fuelâ€”itâ€™s a direct influence on blood sugar. But how do different meals shape glucose responses, and whatâ€™s the secret to keeping your levels steady?"
            "By diving into real-world data from Dexcom wearers, we uncover surprising patterns in how different types of food affect blood sugar, offering insights that could change how you think about meals."</p>
    </header>

    <!-- Descriptive Exposition Before the first  D3 Chart -->
    <section id="glucose-intro" style="margin: 0 20px; text-align: left; max-width: 800px; margin-left: auto; margin-right: auto;">
        <h2 style="text-align: center;">Exploring the Link Between Food and Glucose Response</h2>
        <p>Every meal triggers metabolic responses that affect glucose levels, with lasting health effects. Our project uses food logs and Dexcom G6 continuous glucose monitoring (CGM) data to track glucose levels every five minutes, identifying patterns in response to different meals.</p>
        <p>We aim to uncover how the timing, type, and composition of meals affect glucose fluctuations and provide insights into managing blood sugar. By mapping glucose changes to mealsâ€”whether high in carbs, protein, or fatsâ€”we can visualize the impact of each on glucose stability.</p>
        <p>The graph below shows glucose fluctuations for several individuals across 1-2 weeks, with <strong>meal events</strong> marked on the timeline. Some meals cause sharp spikes, while others have more gradual or stable effects, highlighting the importance of meal timing and composition in managing glucose levels.</p>
        <h4>ðŸ”Ž Key Questions to Explore:</h4>
        <ul>
            <li>Which meals trigger glucose spikes or crashes?</li>
            <li>How long does it take for glucose levels to stabilize after eating?</li>
            <li>Are there patterns based on meal type or timing, such as breakfast versus dinner?</li>
        </ul>
        <p>Explore the visualization below to see how meals impact blood sugar and gain insights for better glucose control.</p>
        <p> You can change datasets with the <strong>dropdown</strong> to explore differnt people's glucose as well as <strong>reset the zoom</strong> when needed. Also try <strong> hovering </strong> over meal events for some more insights!</p>
    </section>
    

        <div id ="main-content">
        <div id="main-chart"></div> <!-- D3 Chart Container -->
        

        <select id="data-select">
            <option value="filtered data/number1_integrate.csv" selected>Dataset 1</option>
            <option value="filtered data/number2_integrate.csv">Dataset 2</option>
            <option value="filtered data/number4_integrate.csv">Dataset 3</option>
            <option value="filtered data/number5_integrate.csv">Dataset 4</option>
            <option value="filtered data/number6_integrate.csv">Dataset 5</option>
            <option value="filtered data/number8_integrate.csv">Dataset 6</option>
            <option value="filtered data/number9_integrate.csv">Dataset 7</option>
            <option value="filtered data/number10_integrate.csv">Dataset 8</option>
            <option value="filtered data/number11_integrate.csv">Dataset 9</option>
            <option value="filtered data/number12_integrate.csv">Dataset 10</option>
            <option value="filtered data/number14_integrate.csv">Dataset 11</option>
        </select>
            <button id="reset-button">Reset Zoom</button>
    </div>



    <div id ="radar-content"> 
            <h1>Glucose Spike Radar Chart</h1>
        <div>
            <label><input type="checkbox" id="filter-carbs"> Top 5 Total Carbs</label>
            <label><input type="checkbox" id="filter-sugar"> Top 5 Sugar</label>
        </div>

        <div id="dropdown-container">
            <button id="dropdown-button">Select Foods â–¼</button>
            <style>
                /* CSS to make the "Select Foods" text black */
                #dropdown-button {
                    color: black;
                }
            </style>
            <div id="dropdown-menu" class="dropdown-content"></div>
        </div>
        <button id="update-chart">Update Chart</button>
        <button id="reset-chart">Reset</button>

        <div id="chart-wrapper">
            <div id="chart-container"></div>  <!-- Radar chart -->
            <div id="legend-container"></div> <!-- Legend section -->
        </div>
        
    </div>


    <div id ="histogram-content">
        <h2>Glucose Spike Histogram</h2>
        <style>
            /* To ensure the buttons stack horizontally below the dropdowns */
            #button-container {
                margin-top: 20px; /* Adds space before the buttons */
                display: flex;
                gap: 10px; /* Adds space between buttons */
                justify-content: center;
            }
    
            #button-container button {
                display: inline-block; /* Ensure the buttons align horizontally */
            }
        </style>
        <style>
            label[for="carbs"], label[for="sugar"], label[for="protein"] {
                font-weight: bold; /* Makes specific labels bold */
            }
        </style>
        <label for="carbs">Total Carbs:</strong></label>
        <select id="carbs" onchange="updateChart()">
            <option value="all">All</option>
            <option value="high">High</option>
            <option value="low">Low</option>
        </select>
        
        <label for="sugar">Sugar:</strong></label>
        <select id="sugar" onchange="updateChart()">
            <option value="all">All</option>
            <option value="high">High</option>
            <option value="low">Low</option>
        </select>
        
        <label for="protein">Protein:</strong></label>
        <select id="protein" onchange="updateChart()">
            <option value="all">All</option>
            <option value="high">High</option>
            <option value="low">Low</option>
        </select>

        <div id = "button-container">
            <button id = "show-combinations">Every Combination</button>
            <button id="pause-combinations">Pause</button>
            <button id = "reset-average">Reset</button>
        </div>
        <svg width="800" height="500"></svg>
        <div class="tooltip" id="tooltip"></div>

        <div id="chart-container2"></div>

    </div>


    <div id ="motion-content">
        <div id = "motion-image"></div>
    </div>


    <script src="main.js"></script>
    <script src="script.js"></script>
    <script src="radar.js"></script>

    
    

</body>




